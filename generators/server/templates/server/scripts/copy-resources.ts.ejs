import * as shell from 'shelljs';
import * as fs from 'fs';

let out = 'dist';
createFolderIfNotExist(out);

out = out + '/config';

createFolderIfNotExist(out);

shell.cp('-R', 'src/config/*.yml', 'dist/config');

const clientDist = __dirname + '/../../target/classes';

if (fs.existsSync(clientDist)) {
    shell.cp('-R', clientDist, out);
}

function createFolderIfNotExist(outDir: string): void {
    if (!fs.existsSync(outDir)) {
        fs.mkdirSync(outDir);
    }
}
